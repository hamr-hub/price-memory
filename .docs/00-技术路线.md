# 技术路线（Technical Roadmap）

## 目标
- 搭建稳定的商品价格监控系统，支持列表抓取、详情抓取、价格历史与导出。
- 前后端分离，接口稳定，数据可迁移（SQLite → PostgreSQL/Supabase）。

## 技术栈
- 前端：TypeScript、React、Vite、Refine、Ant Design
- 后端：Python、FastAPI、SQLAlchemy、Playwright、pydantic
- 数据：SQLite（默认）、Supabase（可选）、PostgreSQL（可选）

## 架构原则
- 单一职责：解析与抓取分层，业务接口清晰
- 可回退：未配置云端时回退本地数据库
- 可观测：统一响应结构与基础日志
- 安全：不在代码中写入密钥，使用环境变量

## 阶段实施
- MVP（当前）：
  - 商品与价格接口、任务执行、列表抓取、Excel导出
  - Supabase 集成（可选）
- Phase 2：
  - 调度与重试：简单定时与失败重试
  - 反爬策略：UA轮换、节流、禁用特征指纹
- Phase 3：
  - 数据指标：价格波动统计、报表
  - 容器化与CI：Docker 镜像与流水线
- Phase 4：
  - 横向扩展：并发抓取与队列
  - 监控：基本指标与告警（Prometheus/Alerting 可选）

## 路线约束
- 不引入未实现的复杂模块（JWT、GraphQL、Redis 等）作为必选项
- 保持 API 兼容与渐进增强

## 关键目录
- admin：管理界面
- spider：后端与爬虫
- .docs：技术文档

